@model ManagementSystem.Models.Student



@{
    ViewData["Title"] = "Create";
}

<div class="container mt-5">
    <div class="row justify-content-center" >
        <div class="col-lg-8 col-md-8 col-sm-8 bg-white">
            <!-- Header Section -->
            <nav class="navbar navbar-light bg-info py-3">
                <div class="container d-flex justify-content-center align-items-center">
                    @* <a href="/" class="navbar-brand">
                    <img src="~/Images/Picsart_24-12-07_18-34-26-772 (1).png" style="width:80px;" alt="Logo" />
                    </a> *@
                    <h1 class="display-4 fw-bold mx-auto text-center text-white">Add New Student </h1>
                </div>
            </nav>
            <!---------------------------->
            <form asp-action="Create" method="post" class="p-4 shadow rounded-3 border border-info">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>

                <!-- Name -->
                <div class="form-group mb-4">
                    <label asp-for="Name" class="form-label text-info">Name</label>
                    <input asp-for="Name" class="form-control border-info" placeholder="Enter Full Name" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>

                <!-- Date of Birth -->
                <div class="form-group mb-4">
                    <label asp-for="Dob" class="form-label text-info">Date of Birth</label>
                    <input asp-for="Dob" type="date" class="form-control border-info" />
                    <span asp-validation-for="Dob" class="text-danger"></span>
                </div>

                <!-- Gender -->
                <div class="form-group mb-4">
                    <label asp-for="Gender" class="form-label text-info">Gender</label>
                    <select asp-for="Gender" class="form-control border-info">
                        <option value="">-- Select Gender --</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                    </select>
                    <span asp-validation-for="Gender" class="text-danger"></span>
                </div>


                <!-- Contact No -->
                <div class="form-group mb-4">
                    <label asp-for="ContactNo" class="form-label text-info">Contact No</label>
                    <input asp-for="ContactNo" class="form-control border-info" placeholder="Enter Contact Number" />
                    <span asp-validation-for="ContactNo" class="text-danger"></span>
                </div>

                <!-- Email -->
                <div class="form-group mb-4">
                    <label asp-for="Email" class="form-label text-info">Email</label>
                    <input asp-for="Email" class="form-control border-info" placeholder="Enter Email" />
                    <span asp-validation-for="Email" class="text-danger"></span>
                </div>

                <!-- Parent Name -->
                <div class="form-group mb-4">
                    <label asp-for="ParentName" class="form-label text-info">Parent's Name</label>
                    <input asp-for="ParentName" class="form-control border-info" placeholder="Enter Parent's Name" />
                    <span asp-validation-for="ParentName" class="text-danger"></span>
                </div>

                <!-- Parent Contact No -->
                <div class="form-group mb-4">
                    <label asp-for="ParentContactNo" class="form-label text-info">Parent Contact No</label>
                    <input asp-for="ParentContactNo" class="form-control border-info" placeholder="Enter Parent Contact Number" />
                    <span asp-validation-for="ParentContactNo" class="text-danger"></span>
                </div>

                <!-- Address -->
                <div class="form-group mb-4">
                    <label asp-for="CurrentAddress" class="form-label text-info">Current Address</label>
                    <input asp-for="CurrentAddress" class="form-control border-info" placeholder="Enter Current Address" />
                    <span asp-validation-for="CurrentAddress" class="text-danger"></span>
                </div>

                <!-- Permanent Address -->
                <div class="form-group mb-4">
                    <label asp-for="PermanentAddress" class="form-label text-info">Permanent Address</label>
                    <input asp-for="PermanentAddress" class="form-control border-info" placeholder="Enter Permanent Address" />
                    <span asp-validation-for="PermanentAddress" class="text-danger"></span>
                </div>

                <!-- City -->
                <div class="form-group mb-4">
                    <label asp-for="City" class="form-label text-info">City</label>
                    
                    <select asp-for="City" class="form-select  border-info">
                        <option value="">Select City</option>
                        <option value="Mumbai">Mumbai</option>
                        <option value="Pune">Pune</option>
                        <option value="Nagpur">Nagpur</option>
                        <option value="Nashik">Nashik</option>
                        <option value="Aurangabad">Aurangabad</option>
                        <option value="Solapur">Solapur</option>
                        <option value="Thane">Thane</option>
                        <option value="Satara">Satara</option>
                        <option value="Kolhapur">Kolhapur</option>
                        <option value="Amravati">Amravati</option>
                        <option value="Chandrapur">Chandrapur</option>
                        <option value="Jalgaon">Jalgaon</option>
                        <option value="Raigad">Raigad</option>
                        <option value="Ratnagiri">Ratnagiri</option>
                        <option value="Vasai-Virar">Vasai-Virar</option>
                        <option value="Latur">Latur</option>
                        <option value="Kalyan-Dombivli">Kalyan-Dombivli</option>
                        <option value="Bhiwandi">Bhiwandi</option>
                        <option value="Pimpri-Chinchwad">Pimpri-Chinchwad</option>
                        <option value="Sangli">Sangli</option>
                        <option value="Yavatmal">Yavatmal</option>
                        <option value="Sindhudurg">Sindhudurg</option>
                        <option value="Other">Other (please specify)</option>
                    </select>
                    <span asp-validation-for="City" class="text-danger"></span>
                </div>

                <!-- Qualification -->
                <div class="form-group mb-4">
                    <label asp-for="Qualification" class="form-label text-info">Qualification</label>
                    <input asp-for="Qualification" class="form-control border-info" placeholder="Enter Qualification" />
                    <span asp-validation-for="Qualification" class="text-danger"></span>
                </div>

                <!-- Previous School/College -->
                <div class="form-group mb-4">
                    <label asp-for="PreviousSchoolClg" class="form-label text-info">Previous School/College</label>
                    <input asp-for="PreviousSchoolClg" class="form-control border-info" placeholder="Enter Previous School/College" />
                    <span asp-validation-for="PreviousSchoolClg" class="text-danger"></span>
                </div>

                <!-- Marks -->
                <div class="form-group mb-4">
                    <label asp-for="Marks" class="form-label text-info">Marks</label>
                    <input asp-for="Marks" class="form-control border-info" placeholder="Enter Marks" />
                    <span asp-validation-for="Marks" class="text-danger"></span>
                </div>



                <!-- Admission Date -->
                <div class="form-group mb-4">
                    <label asp-for="AdmissionDate" class="form-label text-info">Admission Date</label>
                    <input asp-for="AdmissionDate" type="date" class="form-control border-info" />
                    <span asp-validation-for="AdmissionDate" class="text-danger"></span>
                </div>

                <!-- Registration Fees -->
                <div class="form-group mb-4">
                    <label asp-for="RegistrationFees" class="form-label text-info">Registration Fees</label>
                    <input asp-for="RegistrationFees" class="form-control border-info"  value="1000" readonly/>
                    <span asp-validation-for="RegistrationFees" class="text-danger"></span>
                </div>

                <!-- Payment Mode -->
                <div class="form-group mb-4">
                    <label asp-for="PaymentMode" class="form-label text-info">Payment Mode</label>
                    <select asp-for="PaymentMode" class="form-select border-info">
                        <option value="">Select Payment Mode</option>
                        <option value="Online">Online</option>
                        <option value="Cash">Cash</option>
                    </select>
                    <span asp-validation-for="PaymentMode" class="text-danger"></span>
                </div>

                <!-- Transaction ID -->
                <div class="form-group mb-4" id="TransactionIdField" style="display: none;">
                    <label asp-for="TransactionId" class="form-label text-info">Transaction ID</label>
                    <input asp-for="TransactionId" class="form-control border-info" />
                    <span asp-validation-for="TransactionId" class="text-danger"></span>
                </div>

              @*   <div class="row"> *@
                    <!-- Course -->
                    <div class="col-md-10 mb-4">
                        <label asp-for="Course" class="form-label text-info">Course</label>
                        <select asp-for="Course" class="form-control" asp-items="ViewBag.Courses">
                            <option>Select Course</option>
                        </select>
                        <span asp-validation-for="Course" class="text-danger"></span>
                    </div>
                    <div class="col-md-2 mb-4">
                        <label class="form-label text-info fw-bold">Select</label>
                        <button class="btn btn-info" type="button" onclick="toggleFields()">Select</button>
                    </div>
              @*   </div> *@
                
                @* <div class="row"> *@
                    <div class="col-md-4 mb-3" id="frontEndFields" style="display: none;">
                        <h6 class="text-success text-uppercase fw-bold">Front-End Languages:</h6>
                        <input type="checkbox" asp-for="FrontEnd" value="HTML" />
                        <label class="form-label fw-bold">HTML</label><br />
                        <input type="checkbox" asp-for="FrontEnd" value="CSS" />
                        <label class="form-label fw-bold">CSS</label><br />
                        <input type="checkbox" asp-for="FrontEnd" value="BOOTSTRAP" />
                        <label class="form-label fw-bold">BOOTSTRAP</label><br />
                        <input type="checkbox" asp-for="FrontEnd" value="JAVASCRIPT" />
                        <label class="form-label fw-bold">JAVASCRIPT</label>
                    </div>

                    <div class="col-md-4 mb-3" id="backEndFields" style="display: none;">
                        <h6 class="text-success text-uppercase fw-bold">Back-End Languages:</h6>
                        <input type="checkbox" multiple asp-for="BackEnd" value="ASP .NET CORE" />
                        <label class="form-label fw-bold">ASP .NET CORE</label><br />
                    <input type="checkbox" multiple asp-for="BackEnd" value="C#" />
                        <label class="form-label fw-bold">C#</label><br />
                    <input type="checkbox" multiple asp-for="BackEnd" value="JAVA" />
                        <label class="form-label fw-bold">JAVA</label><br />
                    <input type="checkbox" multiple asp-for="BackEnd" value="PYTHON" />
                        <label class="form-label fw-bold">PYTHON</label>
                    </div>

                    <div class="col-md-4 mb-3" id="dataBaseFields" style="display: none;">
                        <h6 class="text-success text-uppercase fw-bold">Data-Base Languages:</h6>
                        <input type="checkbox" asp-for="DataBaseLanguage" value="MySQL" />
                        <label class="form-label fw-bold">MySQL</label><br />
                        <input type="checkbox" asp-for="DataBaseLanguage" value="SQL" />
                        <label class="form-label fw-bold">SQL</label><br />
                        <input type="checkbox" asp-for="DataBaseLanguage" value="MongoDB" />
                        <label class="form-label fw-bold">MongoDB</label><br />
                        <input type="checkbox" asp-for="DataBaseLanguage" value="Oracle" />
                        <label class="form-label fw-bold">Oracle</label>
                    </div>
                <div class="form-group mb-4">
                    <label asp-for="BatchTime" class="form-label text-info"> Batch Time</label>
                    <input asp-for="BatchTime" class="form-control border-info" />
                    <span asp-validation-for="BatchTime" class="text-danger"></span>
                </div>


                <!-- Course Fees -->
                <div class="col-md-6 mb-3">
                    <label asp-for="CourseFees" class="form-label text-info">Course Fees</label>
                    <input asp-for="CourseFees" class="form-control" placeholder="Enter course fee" id="CourseFees" />
                    <span asp-validation-for="CourseFees" class="text-danger"></span>
                </div>
                <!-- Discount -->
                <div class="form-group mb-4">
                    <label asp-for="Discount" class="form-label text-info">Discount (%)</label>
                    <input id="Discount" asp-for="Discount" class="form-control" placeholder="Enter discount percentage" id="Discount" />
                    <span asp-validation-for="Discount" class="text-danger"></span>
                </div>

                <div class="form-group mb-4">
                    <label asp-for="DiscountedCourseFees" class="form-label text-info">Discounted Course Fees</label>
                    <input asp-for="DiscountedCourseFees" class="form-control" placeholder="Discounted course fee" id="DiscountedFees" readonly />
                    <span asp-validation-for="DiscountedCourseFees" class="text-danger"></span>
                </div>
              

                <!-- Installments -->
                <h5 class="text-success mt-4 mb-3">Installments</h5>
                <div class="form-group mb-4">
                    <label asp-for="Installment" class="form-label text-info">Installments</label>
                    <select asp-for="Installment" class="form-select border-info" id="Installment">
                        <option value="">Select Installments</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                    </select>
                    <span asp-validation-for="Installment" class="text-danger"></span>
                </div>

                <div id="InstallmentFields"></div>
                <!-- Admission Taken By -->
                <div class="form-group mb-4">
                    <label asp-for="AddmissionTakenBy" class="form-label text-info">Admission Taken By</label>
                    <input asp-for="AddmissionTakenBy" class="form-control border-info" placeholder="Enter Staff Name" />
                    <span asp-validation-for="AddmissionTakenBy" class="text-danger"></span>
                </div>

                <!-- Back and Submit Button -->
                <div class="form-group text-center">
                   
                    <button type="submit" value="Create" class="btn btn-lg btn-success px-5 ml-3" >Save</button>
                    <a asp-action="AdmissionTable" class="btn btn-lg btn-secondary px-5">Back</a>
                </div>
            </form>
        </div>
    </div>
</div>










@section Scripts 
{
    <script>
        function toggleFields() {
            // Toggle the visibility of the fields when the "Select" button is clicked
            var frontEnd = document.getElementById('frontEndFields');
            var backEnd = document.getElementById('backEndFields');
            var dataBase = document.getElementById('dataBaseFields');

            // Toggle the display of each section
            frontEnd.style.display = (frontEnd.style.display === 'none' || frontEnd.style.display === '') ? 'block' : 'none';
            backEnd.style.display = (backEnd.style.display === 'none' || backEnd.style.display === '') ? 'block' : 'none';
            dataBase.style.display = (dataBase.style.display === 'none' || dataBase.style.display === '') ? 'block' : 'none';
        }



        // // Show/Hide Transaction ID field based on Payment Mode selection
        // document.getElementById("PaymentMode").addEventListener("change", function () {
        //     const transactionField = document.getElementById("TransactionIdField");
        //     transactionField.style.display = this.value === "Online" ? "block" : "none";
        // });

        // document.getElementById("Installment").addEventListener("change", function () {
        //     const installmentFields = document.getElementById("InstallmentFields");
        //     installmentFields.innerHTML = ""; // Clear previous fields
        //     const count = parseInt(this.value, 10) || 0;

        //     for (let i = 1; i <= count; i++) {
        //         const dateField = `
        //             <div class="form-group">
        //                 <label>Installment ${i} Date</label>
        //                 <input type="date" name="InstallmentDate${i}" class="form-control" />
        //             </div>`;
        //         const amountField = `
        //             <div class="form-group">
        //                 <label>Installment ${i} Amount</label>
        //                 <input type="number" na`me="InstallmentAmount${i}" class="form-control" />
        //             </div>`;
        //         installmentFields.innerHTML += dateField + amountField;
        //     }
        // });

              document.getElementById("PaymentMode").addEventListener("change", function () {
            const transactionIdField = document.getElementById("TransactionIdField");
            if (this.value === "Online") {
                transactionIdField.style.display = "block";
            } else {
                transactionIdField.style.display = "none";
            }
            });

        // document.getElementById("Installment").addEventListener("change", function () {
        //     const installmentFields = document.getElementById("InstallmentFields");
        //     installmentFields.innerHTML = ""; // Clear previous fields
        //     const count = parseInt(this.value, 10) || 0;

        //     if (count === 1) {
        //         const dateField = `
        //             <div class="form-group">
        //                 <label>FirstDate</label>
        //                 <input type="date" name="FirstDate" class="form-control" />
        //             </div>`;
        //         const amountField = `
        //             <div class="form-group">
        //                 <label>FirstInstallment</label>
        //                 <input type="number" name="FirstInsta" class="form-control" />
        //             </div>`;
        //         installmentFields.innerHTML += dateField + amountField;
        //     } else if (count === 2) {
        //         const dateField1 = `
        //             <div class="form-group">
        //                 <label>FirstDate</label>
        //                 <input type="date" name="FirstDate" class="form-control" />
        //             </div>`;
        //         const amountField1 = `
        //             <div class="form-group">
        //                 <label>FirstInstallment</label>
        //                 <input type="number" name="FirstInsta" class="form-control" />
        //             </div>`;
        //         const dateField2 = `
        //             <div class="form-group">
        //                 <label>SecondDate</label>
        //                 <input type="date" name="SecondDate" class="form-control" />
        //             </div>`;
        //         const amountField2 = `
        //             <div class="form-group">
        //                 <label>SecondInstallment</label>
        //                 <input type="number" name="SecondInsta" class="form-control" />
        //             </div>`;
        //         installmentFields.innerHTML += dateField1 + amountField1 + dateField2 + amountField2;
        //     } else if (count === 3) {
        //         const dateField1 = `
        //             <div class="form-group">
        //                 <label>FirstDate</label>
        //                 <input type="date" name="FirstDate" class="form-control" />
        //             </div>`;
        //         const amountField1 = `
        //             <div class="form-group">
        //                 <label>FirstInstallment</label>
        //                 <input type="number" name="FirstInsta" class="form-control" />
        //             </div>`;
        //         const dateField2 = `
        //             <div class="form-group">
        //                 <label>SecondDate</label>
        //                 <input type="date" name="SecondDate" class="form-control" />
        //             </div>`;
        //         const amountField2 = `
        //             <div class="form-group">
        //                 <label>SecondInstallment</label>
        //                 <input type="number" name="SecondInsta" class="form-control" />
        //             </div>`;
        //         const dateField3 = `
        //             <div class="form-group">
        //                 <label>ThirdDate</label>
        //                 <input type="date" name="ThirdDate" class="form-control" />
        //             </div>`;
        //         const amountField3 = `
        //             <div class="form-group">
        //                 <label>ThirdInstallment</label>
        //                 <input type="number" name="ThirdInsta" class="form-control" />
        //             </div>`;
        //         installmentFields.innerHTML += dateField1 + amountField1 + dateField2 + amountField2 + dateField3 + amountField3;
        //     } else if (count === 4) {
        //         const dateField1 = `
        //             <div class="form-group">
        //                 <label>FirstDate</label>
        //                 <input type="date" name="FirstDate" class="form-control" />
        //             </div>`;
        //         const amountField1 = `
        //             <div class="form-group">
        //                 <label>FirstInstallment</label>
        //                 <input type="number" name="FirstInsta" class="form-control" />
        //             </div>`;
        //         const dateField2 = `
        //             <div class="form-group">
        //                 <label>SecondDate</label>
        //                 <input type="date" name="SecondDate" class="form-control" />
        //             </div>`;
        //         const amountField2 = `
        //             <div class="form-group">
        //                 <label>SecondInstallment</label>
        //                 <input type="number" name="SecondInsta" class="form-control" />
        //             </div>`;
        //         const dateField3 = `
        //             <div class="form-group">
        //                 <label>ThirdDate</label>
        //                 <input type="date" name="ThirdDate" class="form-control" />
        //             </div>`;
        //         const amountField3 = `
        //             <div class="form-group">
        //                 <label>ThirdInstallment</label>
        //                 <input type="number" name="ThirdInsta" class="form-control" />
        //             </div>`;
        //         const dateField4 = `
        //             <div class="form-group">
        //                 <label>FourthDate</label>
        //                 <input type="date" name="FourthDate" class="form-control" />
        //             </div>`;
        //         const amountField4 = `
        //             <div class="form-group">
        //                 <label>FourthInstallment</label>
        //                 <input type="number" name="FourthInsta" class="form-control" />
        //             </div>`;
        //         installmentFields.innerHTML += dateField1 + amountField1 + dateField2 + amountField2 + dateField3 + amountField3 + dateField4 + amountField4;
        //     } else if (count === 5) {
        //         const dateField1 = `
        //             <div class="form-group">
        //                 <label>FirstDate</label>
        //                 <input type="date" name="FirstDate" class="form-control" />
        //             </div>`;
        //         const amountField1 = `
        //             <div class="form-group">
        //                 <label>FirstInstallment</label>
        //                 <input type="number" name="FirstInsta" class="form-control" />
        //             </div>`;
        //         const dateField2 = `
        //             <div class="form-group">
        //                 <label>SecondDate</label>
        //                 <input type="date" name="SecondDate" class="form-control" />
        //             </div>`;
        //         const amountField2 = `
        //             <div class="form-group">
        //                 <label>SecondInstallment</label>
        //                 <input type="number" name="SecondInsta" class="form-control" />
        //             </div>`;
        //         const dateField3 = `
        //             <div class="form-group">
        //                 <label>ThirdDate</label>
        //                 <input type="date" name="ThirdDate" class="form-control" />
        //             </div>`;
        //         const amountField3 = `
        //             <div class="form-group">
        //                 <label>ThirdInstallment</label>
        //                 <input type="number" name="ThirdInsta" class="form-control" />
        //             </div>`;
        //         const dateField4 = `
        //             <div class="form-group">
        //                 <label>FourthDate</label>
        //                 <input type="date" name="FourthDate" class="form-control" />
        //             </div>`;
        //         const amountField4 = `
        //             <div class="form-group">
        //                 <label>FourthInstallment</label>
        //                 <input type="number" name="FourthInsta" class="form-control" />
        //             </div>`;
        //         const dateField5 = `
        //             <div class="form-group">
        //                 <label>FifthDate</label>
        //                 <input type="date" name="FifthDate" class="form-control" />
        //             </div>`;
        //         const amountField5 = `
        //             <div class="form-group">
        //                 <label>FifthInstallment</label>
        //                 <input type="number" name="FifthInsta" class="form-control" />
        //             </div>`;
        //         installmentFields.innerHTML += dateField1 + amountField1 + dateField2 + amountField2 + dateField3 + amountField3 + dateField4 + amountField4 + dateField5 + amountField5;
        //     } else if (count === 6) {
        //         const dateField1 = `
        //             <div class="form-group">
        //                 <label>FirstDate</label>
        //                 <input type="date" name="FirstDate" class="form-control" />
        //             </div>`;
        //         const amountField1 = `
        //             <div class="form-group">
        //                 <label>FirstInstallment</label>
        //                 <input type="number" name="FirstInsta" class="form-control" />
        //             </div>`;
        //         const dateField2 = `
        //             <div class="form-group">
        //                 <label>SecondDate</label>
        //                 <input type="date" name="SecondDate" class="form-control" />
        //             </div>`;
        //         const amountField2 = `
        //             <div class="form-group">
        //                 <label>SecondInstallment</label>
        //                 <input type="number" name="SecondInsta" class="form-control" />
        //             </div>`;
        //         const dateField3 = `
        //             <div class="form-group">
        //                 <label>ThirdDate</label>
        //                 <input type="date" name="ThirdDate" class="form-control" />
        //             </div>`;
        //         const amountField3 = `
        //             <div class="form-group">
        //                 <label>ThirdInstallment</label>
        //                 <input type="number" name="ThirdInsta" class="form-control" />
        //             </div>`;
        //         const dateField4 = `
        //             <div class="form-group">
        //                 <label>FourthDate</label>
        //                 <input type="date" name="FourthDate" class="form-control" />
        //             </div>`;
        //         const amountField4 = `
        //             <div class="form-group">
        //                 <label>FourthInstallment</label>
        //                 <input type="number" name="FourthInsta" class="form-control" />
        //             </div>`;
        //         const dateField5 = `
        //             <div class="form-group">
        //                 <label>FifthDate</label>
        //                 <input type="date" name="FifthDate" class="form-control" />
        //             </div>`;
        //         const amountField5 = `
        //             <div class="form-group">
        //                 <label>FifthInstallment</label>
        //                 <input type="number" name="FifthInsta" class="form-control" />
        //             </div>`;
        //         const dateField6 = `
        //             <div class="form-group">
        //                 <label>SixthDate</label>
        //                 <input type="date" name="SixthDate" class="form-control" />
        //             </div>`;
        //         const amountField6 = `
        //             <div class="form-group">
        //                 <label>SixthInstallment</label>
        //                 <input type="number" name="SixthInsta" class="form-control" />
        //             </div>`;
        //         installmentFields.innerHTML += dateField1 + amountField1 + dateField2 + amountField2 + dateField3 + amountField3 + dateField4 + amountField4 + dateField5 + amountField5 + dateField6 + amountField6;
        //     }
        // });
        // Set default value for the input field in the Registration fees
        function calculateDiscountedFees() {
            var courseFees = (parseFloat(document.getElementById("CourseFees").value) || 0) - 1000;
            var discount = parseFloat(document.getElementById("Discount").value) || 0;
            var discountedFees = courseFees && discount >= 0 ? (courseFees - (courseFees * discount / 100)).toFixed(2) : '';
            document.getElementById("DiscountedFees").value = discountedFees;
        }

        // Event listeners for Course Fees and Discount fields
        ["CourseFees", "Discount"].forEach(id => document.getElementById(id).addEventListener("input", calculateDiscountedFees));

        document.getElementById("Installment").addEventListener("change", function () {
            const installmentFields = document.getElementById("InstallmentFields");
            const discountedFees = parseFloat(document.getElementById("DiscountedFees").value || 0); // Get discounted fees
            const count = parseInt(this.value, 10) || 0; // Get the number of installments

            installmentFields.innerHTML = ""; // Clear previous fields

            if (count > 0) {
                const installmentAmount = Math.floor((discountedFees / count) + 1000); // Base amount per installment
                const remainder = (discountedFees + (count * 1000)) % count; // Calculate remainder for distribution

                let table = `
                     <table class="table">
                         <thead>
                             <tr>
                                 <th>Installment</th>
                                 <th>Date</th>
                                 <th>Amount</th>
                             </tr>
                         </thead>
                         <tbody>`;

                if (count >= 1) {
                   let amount;
                   if(count===1){
                       amount = discountedFees;
                   }else{
                       amount = installmentAmount + remainder;
                   }
                    table += `
                         <tr>
                             <td class="fw-bold">First Installment</td>
                             <td><input type="date" id="FirstDate" name="FirstDate" class="form-control" /></td>
                             <td><input type="number" name="FristInsta" class="form-control" value="${amount}" readonly /></td>
                         </tr>`;
                }

                if (count >= 2) {
                    const amount = installmentAmount;
                    table += `
                         <tr>
                             <td class="fw-bold">Second Installment</td>
                             <td><input type="date" id="SecondDate" name="SecondDate" class="form-control" readonly /></td>
                             <td><input type="number" name="SecondInsta" class="form-control" value="${amount}" readonly /></td>
                         </tr>`;
                }

                if (count >= 3) {
                    const amount = installmentAmount;
                    table += `
                         <tr>
                             <td class="fw-bold">Third Installment</td>
                             <td><input type="date" id="ThirdDate" name="ThirdDate" class="form-control" readonly /></td>
                             <td><input type="number" name="ThirdInsta" class="form-control" value="${amount}" readonly /></td>
                         </tr>`;
                }

                if (count >= 4) {
                    const amount = installmentAmount;
                    table += `
                         <tr>
                             <td class="fw-bold">Fourth Installment</td>
                             <td><input type="date" id="FourthDate" name="FourthDate" class="form-control" readonly /></td>
                             <td><input type="number" name="FourthInsta" class="form-control" value="${amount}" readonly /></td>
                         </tr>`;
                }

                if (count >= 5) {
                    const amount = installmentAmount;
                    table += `
                         <tr>
                             <td class="fw-bold">Fifth Installment</td>
                             <td><input type="date" id="FifthDate" name="FifthDate" class="form-control" readonly /></td>
                             <td><input type="number" name="FifthInsta" class="form-control" value="${amount}" readonly /></td>
                         </tr>`;
                }

                if (count === 6) {
                    const amount = installmentAmount;
                    table += `
                         <tr>
                             <td class="fw-bold">Sixth Installment</td>
                             <td><input type="date" id="SixthDate" name="SixDate" class="form-control" readonly /></td>
                             <td><input type="number" name="SixInsta" class="form-control" value="${amount}" readonly /></td>
                         </tr>`;
                }

                table += `
                         </tbody>
                     </table>`;
                installmentFields.innerHTML += table;

                // Add event listener for first date field
                document.getElementById("FirstDate").addEventListener("change", function () {
                    const firstDateValue = this.value;
                    if (firstDateValue) {
                        let currentDate = new Date(firstDateValue);

                        if (count >= 2) {
                            currentDate.setMonth(currentDate.getMonth() + 1);
                            const secondDateField = document.getElementById("SecondDate");
                            if (secondDateField) {
                                secondDateField.value = currentDate.toISOString().split("T")[0];
                            }
                        }

                        if (count >= 3) {
                            currentDate.setMonth(currentDate.getMonth() + 1);
                            const thirdDateField = document.getElementById("ThirdDate");
                            if (thirdDateField) {
                                thirdDateField.value = currentDate.toISOString().split("T")[0];
                            }
                        }

                        if (count >= 4) {
                            currentDate.setMonth(currentDate.getMonth() + 1);
                            const fourthDateField = document.getElementById("FourthDate");
                            if (fourthDateField) {
                                fourthDateField.value = currentDate.toISOString().split("T")[0];
                            }
                        }

                        if (count >= 5) {
                            currentDate.setMonth(currentDate.getMonth() + 1);
                            const fifthDateField = document.getElementById("FifthDate");
                            if (fifthDateField) {
                                fifthDateField.value = currentDate.toISOString().split("T")[0];
                            }
                        }

                        if (count === 6) {
                            currentDate.setMonth(currentDate.getMonth() + 1);
                            const sixthDateField = document.getElementById("SixthDate");
                            if (sixthDateField) {
                                sixthDateField.value = currentDate.toISOString().split("T")[0];
                            }
                        }
                    }
                });
            } else {
                installmentFields.innerHTML = "<p>No installments to display.</p>";
            }
        });
        
    </script>

}

